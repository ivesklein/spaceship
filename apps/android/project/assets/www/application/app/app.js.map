{"version":3,"sources":["meteor://ðŸ’»app/client/lib/boot.js","meteor://ðŸ’»app/client/lib/load.js","meteor://ðŸ’»app/client/lib/spaceship.js","meteor://ðŸ’»app/client/main.js","meteor://ðŸ’»app/games/spaceship.js"],"names":["Meteor","gameStates","boot","create","game","scale","scaleMode","Phaser","ScaleManager","SHOW_ALL","pageAlignHorizontally","pageAlignVertically","windowConstraints","right","bottom","state","start","load","preload","add","text","font","fill","spritesheet","audio","bitmapFont","spaceship","context","tilesprite","tileSprite","smoothed","set","player","sprite","shipwave","animations","physics","enable","Physics","ARCADE","waving","sship","bmpText","bitmapText","bmpText3","bmpText4","bmpText5","cursors","input","keyboard","createCursorKeys","fullScreenScaleMode","onDown","gofull","isFullScreen","startFullScreen","update","instance","body","velocity","left","isDown","tilePosition","x","up","y","down","ismoving","play","score","get","activePointer","deltaX","worldX","world","deltaY","worldY","stop","speed","Math","abs","floor","Template","onRendered","ReactiveVar","Game","AUTO","autorun","helpers","game1","hola"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAAA,OAAOC,UAAP,GAAoBD,OAAOC,UAAP,IAAqB,EAAzC;;AAEAD,OAAOC,UAAP,CAAkBC,IAAlB,GAAyB;AACxBC;AAAQ,oBAAW;AAClB,OAAIC,OAAOJ,OAAOI,IAAlB;;AAEA;AACA,QAAKC,KAAL,CAAWC,SAAX,GAAuBC,OAAOC,YAAP,CAAoBC,QAA3C;AACA,QAAKJ,KAAL,CAAWK,qBAAX,GAAmC,IAAnC;AACA,QAAKL,KAAL,CAAWM,mBAAX,GAAiC,IAAjC;AACA,QAAKC,iBAAL,GAAyB,EAAEC,OAAO,QAAT,EAAmBC,QAAQ,QAA3B,EAAzB;AACAV,QAAKW,KAAL,CAAWC,KAAX,CAAiB,MAAjB;AACA;;AATD;AAAA;AADwB,CAAzB,oH;;;;;;;;;;;ACFAhB,OAAOC,UAAP,GAAoBD,OAAOC,UAAP,IAAqB,EAAzC;;AAEAD,OAAOC,UAAP,CAAkBgB,IAAlB,GAAyB;AACxBC;AAAS,qBAAW;AACnB,OAAId,OAAOJ,OAAOI,IAAlB;;AAEA;AACAA,QAAKe,GAAL,CAASC,IAAT,CAAc,EAAd,EAAiB,GAAjB,EAAsB,YAAtB,EAAoC,EAACC,MAAK,cAAN,EAAsBC,MAAK,SAA3B,EAApC;;AAEAlB,QAAKa,IAAL,CAAUM,WAAV,CAAsB,OAAtB,EAA+B,kCAA/B,EAAmE,EAAnE,EAAuE,EAAvE;AACAnB,QAAKa,IAAL,CAAUM,WAAV,CAAsB,QAAtB,EAAgC,gCAAhC,EAAkE,EAAlE,EAAsE,EAAtE;;AAEA;AACAnB,QAAKa,IAAL,CAAUO,KAAV,CAAgB,WAAhB,EAA6B,CAAC,uBAAD,EAA0B,uBAA1B,CAA7B;;AAEApB,QAAKa,IAAL,CAAUQ,UAAV,CAAqB,SAArB,EAAgC,uBAAhC,EAAyD,uBAAzD;AAEA;;AAdD;AAAA,IADwB;AAgBxBtB;AAAQ,oBAAW;AAClB,OAAIC,OAAOJ,OAAOI,IAAlB;AACAA,QAAKW,KAAL,CAAWC,KAAX,CAAiB,WAAjB;AACA;;AAHD;AAAA;AAhBwB,CAAzB,oH;;;;;;;;;;;ACFAhB,OAAOC,UAAP,GAAoBD,OAAOC,UAAP,IAAqB,EAAzC;;AAEAD,OAAOC,UAAP,CAAkByB,SAAlB,GAA8B;AAC7BC,UAAS,EADoB;AAE7BxB;AAAQ,oBAAW;AAClB,OAAIC,OAAOJ,OAAOI,IAAlB;;AAEA;;AAEA;AACG,QAAKwB,UAAL,GAAkBxB,KAAKe,GAAL,CAASU,UAAT,CAAoB,CAApB,EAAuB,CAAvB,EAA0B,IAA1B,EAAgC,GAAhC,EAAqC,OAArC,CAAlB;AACA,QAAKD,UAAL,CAAgBE,QAAhB,GAA2B,KAA3B;AACA,QAAKF,UAAL,CAAgBvB,KAAhB,CAAsB0B,GAAtB,CAA0B,CAA1B;AACA;AACA;;AAEA;AACA,QAAKC,MAAL,GAAc5B,KAAKe,GAAL,CAASc,MAAT,CAAgB,EAAhB,EAAoB,EAApB,EAAwB,QAAxB,EAAkC,CAAlC,CAAd;AACA,QAAKD,MAAL,CAAYF,QAAZ,GAAuB,KAAvB;AACA,QAAKE,MAAL,CAAY3B,KAAZ,CAAkB0B,GAAlB,CAAsB,CAAtB;AACA,QAAKG,QAAL,GAAgB,KAAKF,MAAL,CAAYG,UAAZ,CAAuBhB,GAAvB,CAA2B,MAA3B,EAAmC,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,EAAO,CAAP,CAAnC,EAA8C,EAA9C,EAAkD,IAAlD,CAAhB;AACAf,QAAKgC,OAAL,CAAaC,MAAb,CAAoB,KAAKL,MAAzB,EAAiCzB,OAAO+B,OAAP,CAAeC,MAAhD;AACA,QAAKC,MAAL,GAAc,KAAd,CAlBe,CAkBM;;AAErB;AACA,QAAKC,KAAL,GAAarC,KAAKe,GAAL,CAASK,KAAT,CAAe,WAAf,CAAb;;AAEA;AACA;;;AAGA;AACH,QAAKkB,OAAL,GAAetC,KAAKe,GAAL,CAASwB,UAAT,CAAoB,EAApB,EAAwB,EAAxB,EAA4B,SAA5B,EAAsC,kBAAtC,EAAyD,EAAzD,CAAf;AACA,QAAKC,QAAL,GAAgBxC,KAAKe,GAAL,CAASwB,UAAT,CAAoB,EAApB,EAAwB,EAAxB,EAA4B,SAA5B,EAAsC,kBAAtC,EAAyD,EAAzD,CAAhB;AACA,QAAKE,QAAL,GAAgBzC,KAAKe,GAAL,CAASwB,UAAT,CAAoB,EAApB,EAAwB,GAAxB,EAA6B,SAA7B,EAAuC,kBAAvC,EAA0D,EAA1D,CAAhB;AACA,QAAKG,QAAL,GAAgB1C,KAAKe,GAAL,CAASwB,UAAT,CAAoB,EAApB,EAAwB,GAAxB,EAA6B,SAA7B,EAAuC,kBAAvC,EAA0D,EAA1D,CAAhB;;AAEA;AACG,QAAKI,OAAL,GAAe3C,KAAK4C,KAAL,CAAWC,QAAX,CAAoBC,gBAApB,EAAf;;AAEA;AACA9C,QAAKC,KAAL,CAAW8C,mBAAX,GAAiC5C,OAAOC,YAAP,CAAoBC,QAArD;AACAL,QAAK4C,KAAL,CAAWI,MAAX,CAAkBjC,GAAlB,CAAsB,KAAKkC,MAA3B,EAAmC,IAAnC;AAEH;;AAxCD;AAAA,IAF6B;AA2C7BA;AAAQ,oBAAW;AAClB,OAAIjD,OAAOJ,OAAOI,IAAlB;AACG,OAAIA,KAAKC,KAAL,CAAWiD,YAAf,EACA;AACI;AACH,IAHD,MAKA;AACIlD,SAAKC,KAAL,CAAWkD,eAAX,CAA2B,KAA3B;AACH;AAEJ;;AAXD;AAAA,IA3C6B;AAuD7BC;AAAQ,oBAAW;AAClB,OAAIpD,OAAOJ,OAAOI,IAAlB;AACA,OAAIqD,WAAW,KAAK9B,OAApB;;AAEA;AACG,QAAKK,MAAL,CAAY0B,IAAZ,CAAiBC,QAAjB,CAA0B5B,GAA1B,CAA8B,CAA9B;;AAEA;AACA,OAAI,KAAKgB,OAAL,CAAaa,IAAb,CAAkBC,MAAtB,EACA;AACI,SAAKjC,UAAL,CAAgBkC,YAAhB,CAA6BC,CAA7B,IAAkC,CAAlC;AACA,SAAK/B,MAAL,CAAY0B,IAAZ,CAAiBC,QAAjB,CAA0BI,CAA1B,GAA8B,CAAC,GAA/B;AACH,IAJD,MAKK,IAAI,KAAKhB,OAAL,CAAalC,KAAb,CAAmBgD,MAAvB,EACL;AACI,SAAKjC,UAAL,CAAgBkC,YAAhB,CAA6BC,CAA7B,IAAkC,CAAlC;AACA,SAAK/B,MAAL,CAAY0B,IAAZ,CAAiBC,QAAjB,CAA0BI,CAA1B,GAA8B,GAA9B;AACH;AACD,OAAI,KAAKhB,OAAL,CAAaiB,EAAb,CAAgBH,MAApB,EACA;AACI,SAAKjC,UAAL,CAAgBkC,YAAhB,CAA6BG,CAA7B,IAAkC,CAAlC;AACA,SAAKjC,MAAL,CAAY0B,IAAZ,CAAiBC,QAAjB,CAA0BM,CAA1B,GAA8B,CAAC,GAA/B;AACH,IAJD,MAKK,IAAI,KAAKlB,OAAL,CAAamB,IAAb,CAAkBL,MAAtB,EACL;AACI,SAAKjC,UAAL,CAAgBkC,YAAhB,CAA6BG,CAA7B,IAAkC,CAAlC;AACA,SAAKjC,MAAL,CAAY0B,IAAZ,CAAiBC,QAAjB,CAA0BM,CAA1B,GAA8B,GAA9B;AACH;;AAGD;AACA,OAAIE,WAAW,KAAf;;AAEA;AACA,OAAI,KAAKpB,OAAL,CAAaa,IAAb,CAAkBC,MAAtB,EACA;AACI,QAAG,CAAC,KAAKrB,MAAT,EAAgB;AAAC,UAAKA,MAAL,GAAY,IAAZ,CAAiB,KAAKC,KAAL,CAAW2B,IAAX,CAAgB,EAAhB,EAAmB,CAAnB,EAAqB,CAArB,EAAuB,IAAvB;AAA8B;AAChE,SAAKpC,MAAL,CAAYoC,IAAZ,CAAiB,MAAjB;AACAX,aAASY,KAAT,CAAetC,GAAf,CAAmB0B,SAASY,KAAT,CAAeC,GAAf,KAAqB,CAAxC;AACAH,eAAW,IAAX;AACH,IAND,MAOK,IAAI,KAAKpB,OAAL,CAAalC,KAAb,CAAmBgD,MAAvB,EACL;AACI,QAAG,CAAC,KAAKrB,MAAT,EAAgB;AAAC,UAAKA,MAAL,GAAY,IAAZ,CAAiB,KAAKC,KAAL,CAAW2B,IAAX,CAAgB,EAAhB,EAAmB,CAAnB,EAAqB,CAArB,EAAuB,IAAvB;AAA8B;AAChE,SAAKpC,MAAL,CAAYoC,IAAZ,CAAiB,MAAjB;AACAX,aAASY,KAAT,CAAetC,GAAf,CAAmB0B,SAASY,KAAT,CAAeC,GAAf,KAAqB,CAAxC;AACAH,eAAW,IAAX;AACH,IANI,MAOA,IAAI,KAAKpB,OAAL,CAAaiB,EAAb,CAAgBH,MAApB,EACL;AACI,QAAG,CAAC,KAAKrB,MAAT,EAAgB;AAAC,UAAKA,MAAL,GAAY,IAAZ,CAAiB,KAAKC,KAAL,CAAW2B,IAAX,CAAgB,EAAhB,EAAmB,CAAnB,EAAqB,CAArB,EAAuB,IAAvB;AAA8B;AAChE,SAAKpC,MAAL,CAAYoC,IAAZ,CAAiB,MAAjB;AACAX,aAASY,KAAT,CAAetC,GAAf,CAAmB0B,SAASY,KAAT,CAAeC,GAAf,KAAqB,CAAxC;AACAH,eAAW,IAAX;AACH,IANI,MAOA,IAAI,KAAKpB,OAAL,CAAamB,IAAb,CAAkBL,MAAtB,EACL;AACI,QAAG,CAAC,KAAKrB,MAAT,EAAgB;AAAC,UAAKA,MAAL,GAAY,IAAZ,CAAiB,KAAKC,KAAL,CAAW2B,IAAX,CAAgB,EAAhB,EAAmB,CAAnB,EAAqB,CAArB,EAAuB,IAAvB;AAA8B;AAChE,SAAKpC,MAAL,CAAYoC,IAAZ,CAAiB,MAAjB;AACAX,aAASY,KAAT,CAAetC,GAAf,CAAmB0B,SAASY,KAAT,CAAeC,GAAf,KAAqB,CAAxC;AACAH,eAAW,IAAX;AACH;;AAED;AACA,OAAI/D,KAAK4C,KAAL,CAAWuB,aAAX,CAAyBV,MAA7B,EACA;AACI,QAAG,CAAC,KAAKrB,MAAT,EAAgB;AAAC,UAAKA,MAAL,GAAY,IAAZ,CAAiB,KAAKC,KAAL,CAAW2B,IAAX,CAAgB,EAAhB,EAAmB,CAAnB,EAAqB,CAArB,EAAuB,IAAvB;AAA8B;AAChE,SAAKpC,MAAL,CAAYoC,IAAZ,CAAiB,MAAjB;AACAX,aAASY,KAAT,CAAetC,GAAf,CAAmB0B,SAASY,KAAT,CAAeC,GAAf,KAAqB,CAAxC;;AAGH,QAAIE,SAAS,EAAEpE,KAAK4C,KAAL,CAAWuB,aAAX,CAAyBE,MAAzB,IAAiC,KAAKzC,MAAL,CAAY0C,KAAZ,CAAkBX,CAAlB,GAAoB,KAAG,CAAxD,CAAF,CAAb;AACA,QAAIY,SAAS,EAAEvE,KAAK4C,KAAL,CAAWuB,aAAX,CAAyBK,MAAzB,IAAiC,KAAK5C,MAAL,CAAY0C,KAAZ,CAAkBT,CAAlB,GAAoB,KAAG,CAAxD,CAAF,CAAb;;AAGH,SAAKrC,UAAL,CAAgBkC,YAAhB,CAA6BC,CAA7B,IAAkCS,SAAO,IAAzC;AACA,SAAK5C,UAAL,CAAgBkC,YAAhB,CAA6BG,CAA7B,IAAkCU,SAAO,IAAzC;AACA,SAAK3C,MAAL,CAAY0B,IAAZ,CAAiBC,QAAjB,CAA0BI,CAA1B,GAA8BS,MAA9B;AACA,SAAKxC,MAAL,CAAY0B,IAAZ,CAAiBC,QAAjB,CAA0BM,CAA1B,GAA8BU,MAA9B;;AAIMR,eAAW,IAAX;AACH;;AAED;AACA,OAAG,CAACA,QAAJ,EACA;AACI,QAAG,KAAK3B,MAAR,EAAe;AAAC,UAAKA,MAAL,GAAY,KAAZ,CAAkB,KAAKC,KAAL,CAAWoC,IAAX;AAAmB;AACrD,SAAK7C,MAAL,CAAYG,UAAZ,CAAuB0C,IAAvB;AACH;;AAED;AACA;AACA,QAAK3C,QAAL,CAAc4C,KAAd,GAAsB,CAACC,KAAKC,GAAL,CAAS,KAAKhD,MAAL,CAAY0B,IAAZ,CAAiBC,QAAjB,CAA0BI,CAAnC,IAAsCgB,KAAKC,GAAL,CAAS,KAAKhD,MAAL,CAAY0B,IAAZ,CAAiBC,QAAjB,CAA0BM,CAAnC,CAAvC,IAA8E,IAApG;;AAGA;AACH,QAAKvB,OAAL,CAAatB,IAAb,GAAoBqC,SAASrC,IAA7B;AACG,QAAKwB,QAAL,CAAcxB,IAAd,GAAqB,YAAU2D,KAAKE,KAAL,CAAW,KAAKjD,MAAL,CAAY0C,KAAZ,CAAkBX,CAAlB,GAAoB,KAAG,CAAlC,CAA/B;AACA,QAAKlB,QAAL,CAAczB,IAAd,GAAqB,YAAU2D,KAAKE,KAAL,CAAW,KAAKjD,MAAL,CAAY0C,KAAZ,CAAkBT,CAAlB,GAAoB,KAAG,CAAlC,CAA/B;AACA,QAAKnB,QAAL,CAAc1B,IAAd,GAAqB,cAAY2D,KAAKE,KAAL,CAAWF,KAAKC,GAAL,CAAS,KAAKhD,MAAL,CAAY0B,IAAZ,CAAiBC,QAAjB,CAA0BI,CAAnC,IAAsCgB,KAAKC,GAAL,CAAS,KAAKhD,MAAL,CAAY0B,IAAZ,CAAiBC,QAAjB,CAA0BM,CAAnC,CAAjD,CAAjC;AAGH;;AAxGD;AAAA;AAvD6B,CAA9B,oH;;;;;;;;;;;ACFAiB,SAAS9E,IAAT,CAAc+E,UAAd,CAAyB,YAAU;;AAElC,KAAI1B,WAAW,IAAf;AACAA,UAASY,KAAT,GAAiB,IAAIe,WAAJ,CAAgB,CAAhB,CAAjB;;AAEApF,QAAOI,IAAP,GAAc,IAAIG,OAAO8E,IAAX,CAAgB,IAAhB,EAAsB,GAAtB,EAA2B9E,OAAO+E,IAAlC,EAAwC,gBAAxC,CAAd;AACA,KAAIlF,OAAOJ,OAAOI,IAAlB;;AAEAJ,QAAOC,UAAP,CAAkByB,SAAlB,CAA4BC,OAA5B,GAAsC8B,QAAtC;;AAEArD,MAAKW,KAAL,CAAWI,GAAX,CAAe,MAAf,EAAuBnB,OAAOC,UAAP,CAAkBC,IAAzC;AACAE,MAAKW,KAAL,CAAWI,GAAX,CAAe,MAAf,EAAuBnB,OAAOC,UAAP,CAAkBgB,IAAzC;AACAb,MAAKW,KAAL,CAAWI,GAAX,CAAe,WAAf,EAA4BnB,OAAOC,UAAP,CAAkByB,SAA9C;AACAtB,MAAKW,KAAL,CAAWC,KAAX,CAAiB,MAAjB;;AAEAyC,UAAS8B,OAAT,CAAiB,YAAW;AAC3B9B,WAASrC,IAAT,GAAgB,YAAUqC,SAASY,KAAT,CAAeC,GAAf,EAA1B;AACA,EAFD;AAIA,CAnBD;;AAqBAY,SAAS9E,IAAT,CAAcoF,OAAd,CAAsB;AACrBC;AAAO,mBAAU;AAChB,UAAOC,IAAP;AACA;;AAFD;AAAA;;AADqB,CAAtB,qH;;;;;;;;;;;ACrBA;AACA","file":"/app.js","sourcesContent":["Meteor.gameStates = Meteor.gameStates || {};\n\nMeteor.gameStates.boot = {\n\tcreate: function() {\n\t\tvar game = Meteor.game;\n\n\t\t//that scale the game to the windows\n\t\tthis.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\n\t\tthis.scale.pageAlignHorizontally = true;\n\t\tthis.scale.pageAlignVertically = true;\n\t\tthis.windowConstraints = { right: 'layout', bottom: 'layout' };\n\t\tgame.state.start('load')\n\t}\n}","Meteor.gameStates = Meteor.gameStates || {};\n\nMeteor.gameStates.load = {\n\tpreload: function() {\n\t\tvar game = Meteor.game;\n\n\t\t//here we load the assets\n\t\tgame.add.text(80,150, 'loading...', {font:'30px Courier', fill:'#ffffff'});\n\n\t\tgame.load.spritesheet('space', 'assets/sprites/terrain/space.png', 32, 32);\n\t\tgame.load.spritesheet('player', 'assets/sprites/player/ship.png', 32, 32);\n\n\t\t//game.load.audio('wind', ['assets/audio/wind.wav', 'assets/audio/wind.mp3', 'assets/audio/wind.ogg']);\n\t\tgame.load.audio('shipsound', ['assets/audio/ship.wav', 'assets/audio/ship.ogg']);\n\n\t\tgame.load.bitmapFont('dotfont', 'assets/fonts/font.png', 'assets/fonts/font.fnt');\n\n\t},\n\tcreate: function() {\n\t\tvar game = Meteor.game;\n\t\tgame.state.start('spaceship')\n\t}\n}","Meteor.gameStates = Meteor.gameStates || {};\n\nMeteor.gameStates.spaceship = {\n\tcontext: {},\n\tcreate: function() {\n\t\tvar game = Meteor.game;\n\n\t\t//here we create the objetcs for the game\n\n\t\t//the background space\n\t    this.tilesprite = game.add.tileSprite(0, 0, 1366, 768, 'space');\n\t    this.tilesprite.smoothed = false;\n\t    this.tilesprite.scale.set(4);\n\t    //tilesprite.animations.add('light', [1,2,3,4], 10, true);\n\t    //this.tilesprite.play('light')\n\n\t    //the player\n\t    this.player = game.add.sprite(64, 64, 'player', 1);\n\t    this.player.smoothed = false;\n\t    this.player.scale.set(4);\n\t    this.shipwave = this.player.animations.add('wave', [1,2,3,4], 10, true);\n\t    game.physics.enable(this.player, Phaser.Physics.ARCADE);\n\t    this.waving = false; //flag for animation/sound play and stop\n\n\t    //the sounds\n\t    this.sship = game.add.audio('shipsound');\n\n\t    //this.swind = game.add.audio('wind');\n\t    //this.swind.play('',0,0.5,true)\n\n\t    \n\t    //logs\n\t\tthis.bmpText = game.add.bitmapText(10, 10, 'dotfont','Drag me around !',40);\n\t\tthis.bmpText3 = game.add.bitmapText(10, 60, 'dotfont','Drag me around !',40);\n\t\tthis.bmpText4 = game.add.bitmapText(10, 110, 'dotfont','Drag me around !',40);\n\t\tthis.bmpText5 = game.add.bitmapText(10, 160, 'dotfont','Drag me around !',40);\n\t\t\n\t\t//the keyboard controls\n\t    this.cursors = game.input.keyboard.createCursorKeys();\n\t    \n\t    //go fullscreen\n\t    game.scale.fullScreenScaleMode = Phaser.ScaleManager.SHOW_ALL;\n\t    game.input.onDown.add(this.gofull, this);\n\n\t},\n\tgofull: function() {\n\t\tvar game = Meteor.game;\n\t    if (game.scale.isFullScreen)\n\t    {\n\t        //game.scale.stopFullScreen();\n\t    }\n\t    else\n\t    {\n\t        game.scale.startFullScreen(false);\n\t    }\n\n\t},\n\tupdate: function() {\n\t\tvar game = Meteor.game;\n\t\tvar instance = this.context;\n\n\t\t//reset velocity\n\t    this.player.body.velocity.set(0);\n\n\t    //handle keys and set velocities\n\t    if (this.cursors.left.isDown)\n\t    {\n\t        this.tilesprite.tilePosition.x += 4;\n\t        this.player.body.velocity.x = -100;\n\t    }\n\t    else if (this.cursors.right.isDown)\n\t    {\n\t        this.tilesprite.tilePosition.x -= 4;\n\t        this.player.body.velocity.x = 100;\n\t    }\n\t    if (this.cursors.up.isDown)\n\t    {\n\t        this.tilesprite.tilePosition.y += 4;\n\t        this.player.body.velocity.y = -100;\n\t    }\n\t    else if (this.cursors.down.isDown)\n\t    {\n\t        this.tilesprite.tilePosition.y -= 4;\n\t        this.player.body.velocity.y = 100;\n\t    }\n\n\t    \n\t    //flag for stop\n\t    var ismoving = false;\n\n\t    //play animation and sounds\n\t    if (this.cursors.left.isDown)\n\t    {\n\t        if(!this.waving){this.waving=true;this.sship.play('',0,1,true);}\n\t        this.player.play('wave');\n\t        instance.score.set(instance.score.get()+1)\n\t        ismoving = true;\n\t    }\n\t    else if (this.cursors.right.isDown)\n\t    {\n\t        if(!this.waving){this.waving=true;this.sship.play('',0,1,true);}\n\t        this.player.play('wave');\n\t        instance.score.set(instance.score.get()+1)\n\t        ismoving = true;\n\t    }\n\t    else if (this.cursors.up.isDown)\n\t    {\n\t        if(!this.waving){this.waving=true;this.sship.play('',0,1,true);}\n\t        this.player.play('wave');\n\t        instance.score.set(instance.score.get()+1)\n\t        ismoving = true;\n\t    }\n\t    else if (this.cursors.down.isDown)\n\t    {\n\t        if(!this.waving){this.waving=true;this.sship.play('',0,1,true);}\n\t        this.player.play('wave');\n\t        instance.score.set(instance.score.get()+1)\n\t        ismoving = true;\n\t    }\n\n\t    //touch handler\n\t    if (game.input.activePointer.isDown)\n\t    {\n\t        if(!this.waving){this.waving=true;this.sship.play('',0,1,true);}\n\t        this.player.play('wave');\n\t        instance.score.set(instance.score.get()+1)\n\n\n\t   \t\tvar deltaX = +(game.input.activePointer.worldX-(this.player.world.x+16*4))\n\t    \tvar deltaY = +(game.input.activePointer.worldY-(this.player.world.y+21*4))\n\n\n\t\t\tthis.tilesprite.tilePosition.x -= deltaX*0.04;\n\t\t\tthis.tilesprite.tilePosition.y -= deltaY*0.04;\n\t\t\tthis.player.body.velocity.x = deltaX;\n\t\t\tthis.player.body.velocity.y = deltaY;\n\n\n\n\t        ismoving = true;\n\t    }\n\t    \n\t    //stop animation and sounds\n\t    if(!ismoving)\n\t    {\n\t        if(this.waving){this.waving=false;this.sship.stop();}\n\t        this.player.animations.stop();\n\t    }\n\n\t    //change framerate\n\t    //this.player.animations._anims.wave.speed = (Math.abs(this.player.body.velocity.x)+Math.abs(this.player.body.velocity.y))*0.03 ;\n\t    this.shipwave.speed = (Math.abs(this.player.body.velocity.x)+Math.abs(this.player.body.velocity.y))*0.03 ;\n\n\n\t    //log\n\t\tthis.bmpText.text = instance.text;\n\t    this.bmpText3.text = \"X ship \"+Math.floor(this.player.world.x+16*4);\n\t    this.bmpText4.text = \"Y ship \"+Math.floor(this.player.world.y+21*4);\n\t   \tthis.bmpText5.text = \"Velocity \"+Math.floor(Math.abs(this.player.body.velocity.x)+Math.abs(this.player.body.velocity.y))\n\n\n\t}\n}","Template.game.onRendered(function(){\n\n\tvar instance = this;\n\tinstance.score = new ReactiveVar(0);\n\n\tMeteor.game = new Phaser.Game(1366, 768, Phaser.AUTO, 'phaser-example');\n\tvar game = Meteor.game;\n\n\tMeteor.gameStates.spaceship.context = instance\n\n\tgame.state.add('boot', Meteor.gameStates.boot);\n\tgame.state.add('load', Meteor.gameStates.load);\n\tgame.state.add('spaceship', Meteor.gameStates.spaceship);\n\tgame.state.start('boot');\n\n\tinstance.autorun(function() {\n\t\tinstance.text = \"score: \"+instance.score.get()\n\t});\n\n})\n\nTemplate.game.helpers({\n\tgame1: function(){\n\t\treturn hola\n\t}\n\n})","// var game = new Phaser.Game(800, 600, Phaser.CANVAS, 'phaser-example', { preload: preload, create: create, update: update });\n/*var game = new Phaser.Game(800, 600, Phaser.AUTO, 'phaser-example', { preload: preload, create: create, update: update });\n\nvar tilesprite;\nvar cursors;\n\nvar player;\n\nvar sship;\nvar swind;\nvar waving = false;\n\nfunction preload() {\n\n    game.load.spritesheet('space', 'assets/sprites/terrain/space.png', 32, 32);\n    game.load.spritesheet('player', 'assets/sprites/player/ship.png', 32, 32);\n\n    game.load.audio('wind', ['assets/audio/wind.wav', 'assets/audio/wind.mp3', 'assets/audio/wind.ogg']);\n    game.load.audio('shipsound', ['assets/audio/ship.wav', 'assets/audio/ship.ogg']);\n\n}\n\nfunction create() {\n\n    tilesprite = game.add.tileSprite(0, 0, 800, 600, 'space');\n    tilesprite.smoothed = false;\n    tilesprite.scale.set(4);\n    //tilesprite.animations.add('light', [1,2,3,4], 10, true);\n\n    player = game.add.sprite(64, 64, 'player', 1);\n    player.smoothed = false;\n    player.scale.set(4);\n    player.animations.add('wave', [1,2,3,4], 10, true);\n\n    game.physics.enable(player, Phaser.Physics.ARCADE);\n\n    sship = game.add.audio('shipsound');\n    swind = game.add.audio('wind');\n    swind.play('',0,0.5,true)\n    //sounds = [ sship, swind]\n    //game.sound.setDecodedCallback(sounds, start, this);\n    cursors = game.input.keyboard.createCursorKeys();\n\n}\n\nfunction start() {\n    \n    sounds.shift();\n\n    bass.loopFull(0.6);\n}\n\nfunction update() {\n\n    player.body.velocity.set(0);\n\n    if (cursors.left.isDown)\n    {\n        tilesprite.tilePosition.x += 4;\n        player.body.velocity.x = -100;\n    }\n    else if (cursors.right.isDown)\n    {\n        tilesprite.tilePosition.x -= 4;\n        player.body.velocity.x = 100;\n    }\n\n    if (cursors.up.isDown)\n    {\n        tilesprite.tilePosition.y += 4;\n        player.body.velocity.y = -100;\n    }\n    else if (cursors.down.isDown)\n    {\n        tilesprite.tilePosition.y -= 4;\n        player.body.velocity.y = 100;\n    }\n\n    tilesprite.play('light')\n\n    if (cursors.left.isDown)\n    {\n        if(!waving){waving=true;sship.play('',0,1,true);}\n        player.play('wave');\n    }\n    else if (cursors.right.isDown)\n    {\n        if(!waving){waving=true;sship.play('',0,1,true);}\n        player.play('wave');\n    }\n    else if (cursors.up.isDown)\n    {\n        if(!waving){waving=true;sship.play('',0,1,true);}\n        player.play('wave');\n    }\n    else if (cursors.down.isDown)\n    {\n        if(!waving){waving=true;sship.play('',0,1,true);}\n        player.play('wave');\n    }\n    else\n    {\n        if(waving){waving=false;sship.stop();}\n        player.animations.stop();\n    }\n\n}*/"]}